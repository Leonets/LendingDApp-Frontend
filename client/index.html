<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <!-- <link rel="icon" type="image/svg+xml" href="/vite.svg" /> -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="css/style.css">
  <title>Lending dApp</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500&display=swap" rel="stylesheet">
</head>

<body>
  <noscript>You need to enable JavaScript to run this app.</noscript>
  <script type="module" src="js/gateway.js"></script>
  <script type="module" src="js/index.js"></script>

  <div class="big-container header">
      <div class="header-wrapper" >
        <img src="images/logoSlim.jpg" alt="Logo" class="logo-image"   />
        <h1> Uncollateralized Lending </h1>
        <div class="column">
          <radix-connect-button class="connectBtn"/>
        </div>
    </div>
  </div>

  <div class="content-container">
    <p>Registering here you'll be able to supply/borrow liquidity in/from the pool  </p>
    <p>&nbsp;<button id="register">Register</button></p>
    <div class="number" id="registerTxResult"></div>
  </div>

  <section>
      <div class="content-wrapper">
        <div class="row-wrapper">
          <div class="column">
            <h3>Supply</h3>
            <p>Supplying liquidity you will receive the same number of LND tokens back and also an updated NFT</p>
            <p><button id="lendTokens">Supply</button></p>
            <div class="number">
              <input type="text" placeholder="Number of Token" id="numberOfTokens">
            </div>
            <div class="number" id="lendTxResult"></div>
          </div>
  
          <div class="column">
            <h3>Withdraw</h3>
            <p>Withdraw liquidity you'll get back your XRD amount plus a reward calculated over the time your funding has been provided!</p>
            <p><button id="takes_back">Withdraw</button></p>
            <div class="number">
              <input type="text" placeholder="Number of Token" id="numberOfLndTokens">
            </div>
            <div class="number" id="takeBackTxResult"></div>
          </div>
          <br><br>
        </div>
      </div>
  
      <div class="content-wrapper">
        <div class="row-wrapper">
          <div class="column">
            <h3>Borrow</h3>
            <p>Borrow liquidity (max 3% of the main pool until the max borrowing limit has not been reached) !
            Please provide a time when the borrowing will be repaid and you'll receive a CreditScore NFT !</p>
            <p><button id="borrow">Borrow</button></p>
            <div class="number">
                <input type="text" placeholder="Number of Token" id="numberOfRequestedXrdTokens"><br>
                <input type="text" placeholder="NÂ° of epochs within which the loan will be repaid" id="expectedBorrowLength">
                <input type="hidden" placeholder="Account address" id="accountAddress">
            </div>
            <div class="number" id="borrowTxResult"></div>
          </div>
  
          <div class="column">
            <h3>Repay</h3>
            <p>Repay borrowings (fees and interest will be calculated over the time the borrow has been opened) !</p>
            <p><button id="repay">Repay</button></p>
            <div class="number">
                <input type="text" placeholder="Number of Token" id="numberOfRepaiedXrdTokens">
                <input type="hidden" placeholder="Account address" id="accountAddressForRepay">
            </div>
            <div class="number" id="repayTxResult"></div>
          </div>
        </div>
      </div>

  </section>

  <section>
      <div class="content-wrapper">
        <div class="row-wrapper">
          <div class="column">
            <h3>Your Position</h3>

            <p>Amount of your liquidity funded in the pool: <span class="number" id="amountLiquidityFunded"></span></p>
            <p>Epoch of supplying liquidity: <span class="number" id="epochLiquidityFunded"></span></p>
            <p>Epoch of redeeming liquidity:  <span class="number" id="epochLiquidityReedemed"></span></p>

            <br>
            <p>Amount of your borrowings:  <span class="number" id="amountBorrowings"></span></p>
            <p>Epoch of borrow:  <span class="number" id="epochBorrow"></span></p>
            <p>Epoch of repaying borrow:  <span class="number" id="epochRepay"></span></p>

            <br>
            <!-- Next Epoch available for supplying new liquidity: <div class="number" id="epochLiquidityNext"></div> -->
            <p>Current Epoch:  <span class="number" id="currentEpoch"></span></p>
          </div>
        </div>
      </div>        
      <div class="content-wrapper">
        <div class="row-wrapper">    
          <div class="column">
            <h3>Current Pool Configuration</h3>
            Reward for liquidity funding: <div class="number" id="rewardForYou"></div><br>
            <!-- Length of the period beyond which liquidity can be provided again: 
            <div class="number" id="periodLengthConfig"></div> -->
            Interest for borrowing liquidity: <div class="number" id="interestForYou"></div><br>
            How interest is calculated (Fixed/TimeBased): <div class="number" id="rewardType"></div>
      
            <h3>Smart Contract Vaults</h3>
            
            <div >Amount of main liquidity pool: <span class="number" id="mainPool"></span></div>

            <div >Amount of loans still accepted: <span class="number" id="lendinsPool"></span></div>
      
            <div >Max Amount of borrowings accepted: <span class="number" id="borrowingsPool"></span></div>
      
            <div >Amount of donations received: <span class="number" id="donationsPool"></span></div>
      
            <div >Amount of fee collected: <span class="number" id="feePool"></span></div>

          </div>
        </div>
      </div>
  </section>

  <section>
      <div class="content-wrapper">
        <div class="row-wrapper">
          Fund the development of the project and you will be recognized as an honorable member !!
          <p><button id="fundDevelopment">Fund Development</button></p> 
          <div class="number">
            <input type="text" placeholder="Number of Token" id="numberOfFundedTokens">
          </div>
          <div class="number" id="fundTxResult"></div>
        </div>
      </div>
        
        <div class="content-wrapper">
          <div class="row-wrapper">
            <h3>Current Borrowers</h3>
            <ul id="borrowers-links-container"></ul>
          </div>
      </div>

  </section>


  <section>
    <div class="content-wrapper">
      Copyright by Leonets
      <p><a href="https://docs-lending.stakingcoins.eu/">Documentation</a></p>
    </div>
  </section>

</div>

 

</body>

</html>